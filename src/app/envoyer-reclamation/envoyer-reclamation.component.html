<div class="sidebar">
  <div class="sidebar-header">
    <h4>Menu</h4>
  </div>
  <nav>
    <ul>
      <li (click)="home()">
        <i class="fas fa-home"></i> Accueil
      </li>
      <li (click)="EnvoyerReclamation()">
        <i class="fas fa-paper-plane"></i> Envoyer une réclamation
      </li>
      <li (click)="chatbot()">
        <i class="fas fa-comments"></i> Chatbot
      </li>
      <li (click)="logout()">
        <i class="fas fa-sign-out-alt"></i> Se déconnecter
      </li>
    </ul>
  </nav>
</div>

<div class="form-container">
  <h2>Envoyer une réclamation</h2>

  <!-- Les messages de succès et d’erreur sont désormais affichés par SweetAlert2, donc on les supprime ici -->
  <!-- <div *ngIf="successMessage" class="success">{{ successMessage }}</div> -->
  <!-- <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div> -->

  <form (ngSubmit)="envoyer()">
    <label>Titre :</label>
    <input
      type="text"
      [(ngModel)]="titre"
      name="titre"
      required
      placeholder="Ex: Problème de voirie"
    />

    <label>Objectif :</label>
    <textarea
      [(ngModel)]="objectif"
      name="objectif"
      required
      placeholder="Décrivez l'objectif de votre réclamation..."
    ></textarea>

    <label>Commune :</label>
    <select [(ngModel)]="commune" name="commune" required>
      <option value="" disabled selected>-- Sélectionner une commune --</option>
      <option *ngFor="let c of communes" [value]="c._id">{{ c.nom }}</option>
    </select>

    <label>Fichier :</label>
    <input type="file" (change)="onFileChange($event)" required />

    <button type="submit">Envoyer</button>
  </form>
</div>
