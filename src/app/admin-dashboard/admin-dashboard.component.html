<!-- Layout principal avec sidebar -->
<div *ngIf="userRole === 'admin'" class="layout">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      
      <div>
        <h2 class="title">Admin</h2>
        <p class="subtitle">{{ userEmail }}</p>
      </div>
    </div>

    <nav class="sidebar-nav">
      <a (click)="home()">
        <i class="fas fa-home"></i> Accueil
      </a>
      <a (click)="goToAddUser()">
        <i class="fas fa-user-plus"></i> Ajouter un utilisateur
      </a>
      <a (click)="goToListUsers()">
        <i class="fas fa-users"></i> Liste des utilisateurs
      </a>
      <a (click)="listreclamation()">
        <i class="fas fa-file-alt"></i> Liste des r√©clamations
      </a>
      <a (click)="assignation()">
        <i class="fas fa-tasks"></i> Assignation
      </a>
      <a (click)="listassignation()">
        <i class="fas fa-tasks"></i> Liste des  Assignation
      </a>
      <a (click)="logout()">
        <i class="fas fa-sign-out-alt"></i> Se d√©connecter
      </a>
    </nav>
    
  </aside>

  <!-- Contenu principal -->
  <main class="main-content">
    <div class="box">
      <h2>Bienvenue sur le tableau de bord Admin</h2>
      <p>Vous avez un acc√®s complet √† toutes les fonctionnalit√©s du syst√®me.</p>
    </div>

    <div class="dashboard-container" #dashboard>
      <h2>Tableau de bord des r√©clamations</h2>

      <!-- Cartes c√¥te √† c√¥te -->
      <div class="dashboard-cards">
        <!-- Carte avec le graphique par type -->
        <mat-card class="dashboard-card">
          <h3>R√©clamations par status</h3>
          <canvas baseChart
                  [data]="chartByTypeData"
                  [options]="chartOptions"
                  [type]="'bar'">
          </canvas>
        </mat-card>

        <!-- Carte avec le graphique par date -->
        <mat-card class="dashboard-card">
          <h3>R√©clamations par date</h3>
          <canvas baseChart
                  [data]="chartByDateData"
                  [options]="chartOptions"
                  [type]="'line'">
          </canvas>
        </mat-card>
      </div>

      <!-- Bouton d'export PDF avec ic√¥ne et texte -->
      <div class="export-button">
        <button mat-raised-button (click)="exportToPDF()">
          <mat-icon>picture_as_pdf</mat-icon> Exporter en PDF
        </button>
      </div>
    </div>
  </main>

  <!-- Message d'acc√®s refus√© -->
  <div *ngIf="userRole !== 'admin'" class="unauthorized-message box danger-bg">
    <p>üö´ Acc√®s refus√© : vous n'√™tes pas autoris√© √† voir cette page.</p>
  </div>
</div>
